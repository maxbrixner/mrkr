{% extends "base.jinja" %}

{% block nav %}
{% include 'content-nav.jinja' %}
{% endblock %}

{% block main %}
<div class="projects">
    <div class="page-toolbar projects">
        <h1>Projects</h1>
        <button class="primary"><img src="/static/img/reload-outline.svg"></button>
        <button class="secondary">New Project</button>
    </div>
    <div class="page-surface projects">
        {% for project in projects %}
        <div class="project-card">
            <div class="project-description">
                <h2>{{project.name}}</h2>
                <p>{{project.description}}</p>
                <p>{{project.creator.name}}</p>
                <p>{{project.scan_status.value}}</p>
            </div>
            <div class="project-options">
                <button class="image small" aria-label="Edit project {{project.name}}"><img
                        src="/static/img/create-outline.svg" alt="Edit Icon" draggable="false"></button>
                <button class="image small" aria-label="View {{project.name}}"
                    hx-get="{{url_for('tasks_page')}}?id={{project.id}}" hx-trigger="click"
                    hx-swap="outerHTML swap:{{config.swap_delay}}ms" hx-target="#main" hx-select="#main"
                    hx-push-url="true" hx-request='{"timeout": {{config.timeout}}}' hx-indicator="#main">
                    <img src="/static/img/arrow-forward-outline.svg" alt="View Project Icon" draggable="false">
                </button>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}